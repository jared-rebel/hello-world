<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello, World!</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0f172a;
            color: #f8fafc;
        }
        .container {
            text-align: center;
            padding: 2rem;
        }
        h1 {
            font-size: clamp(3rem, 10vw, 8rem);
            font-weight: 700;
            margin-bottom: 0.5rem;
            transition: opacity 0.3s ease;
        }
        .subtitle {
            font-size: 1.1rem;
            color: #94a3b8;
            margin-bottom: 3rem;
        }
        .languages {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
            max-width: 600px;
            margin: 0 auto 1.5rem;
        }
        button {
            background: #1e293b;
            color: #e2e8f0;
            border: 1px solid #334155;
            padding: 0.6rem 1.2rem;
            border-radius: 999px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        button:hover {
            background: #334155;
            border-color: #475569;
            transform: translateY(-1px);
        }
        button[aria-pressed="true"] {
            background: #3b82f6;
            border-color: #3b82f6;
            color: #fff;
        }
        .cycle-btn {
            background: transparent;
            color: #64748b;
            border: 1px solid #334155;
            padding: 0.4rem 1.1rem;
            font-size: 0.875rem;
        }
        .cycle-btn:hover {
            color: #94a3b8;
            border-color: #475569;
            transform: none;
        }
        .cycle-btn.playing {
            color: #3b82f6;
            border-color: #3b82f6;
        }
        .hint {
            margin-top: 1rem;
            font-size: 0.75rem;
            color: #475569;
        }
        noscript p {
            font-size: 1.25rem;
            color: #94a3b8;
            margin-top: 1rem;
            line-height: 2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div aria-live="polite" aria-atomic="true">
            <h1 id="greeting"></h1>
            <p class="subtitle" id="language"></p>
        </div>
        <div class="languages" id="buttons"></div>
        <button class="cycle-btn" id="cycleBtn" aria-label="Start auto-cycling through languages">‚ñ∂ Auto-cycle</button>
        <p class="hint">or use ‚Üê ‚Üí arrow keys</p>
        <noscript>
            <p>Hello! ¬∑ ‰Ω†Â•ΩÔºÅ ¬∑ ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ¬∑ ¬°Hola! ¬∑ Bonjour !<br>ŸÖÿ±ÿ≠ÿ®ÿß! ¬∑ ‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! ¬∑ Ol√°! ¬∑ –ü—Ä–∏–≤–µ—Ç! ¬∑ „Åì„Çì„Å´„Å°„ÅØÔºÅ</p>
        </noscript>
    </div>

    <script>
        const FADE_MS = 150;
        const CYCLE_MS = 2000;

        const greetings = [
            { lang: 'English',    hello: 'Hello!',      flag: 'üá¨üáß', code: 'en', dir: 'ltr' },
            { lang: 'Mandarin',   hello: '‰Ω†Â•ΩÔºÅ',        flag: 'üá®üá≥', code: 'zh', dir: 'ltr' },
            { lang: 'Hindi',      hello: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á!',       flag: 'üáÆüá≥', code: 'hi', dir: 'ltr' },
            { lang: 'Spanish',    hello: '¬°Hola!',       flag: 'üá™üá∏', code: 'es', dir: 'ltr' },
            { lang: 'French',     hello: 'Bonjour !',    flag: 'üá´üá∑', code: 'fr', dir: 'ltr' },
            { lang: 'Arabic',     hello: 'ŸÖÿ±ÿ≠ÿ®ÿß!',        flag: 'üá∏üá¶', code: 'ar', dir: 'rtl' },
            { lang: 'Bengali',    hello: '‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã!',        flag: 'üáßüá©', code: 'bn', dir: 'ltr' },
            { lang: 'Portuguese', hello: 'Ol√°!',         flag: 'üáßüá∑', code: 'pt', dir: 'ltr' },
            { lang: 'Russian',    hello: '–ü—Ä–∏–≤–µ—Ç!',      flag: 'üá∑üá∫', code: 'ru', dir: 'ltr' },
            { lang: 'Japanese',   hello: '„Åì„Çì„Å´„Å°„ÅØÔºÅ',   flag: 'üáØüáµ', code: 'ja', dir: 'ltr' },
        ];

        const h1 = document.getElementById('greeting');
        const sub = document.getElementById('language');
        const container = document.getElementById('buttons');
        const cycleBtn = document.getElementById('cycleBtn');

        let activeIndex = 0;
        let cycleTimer = null;
        const buttons = [];

        function applyGreeting(g) {
            h1.textContent = g.hello;
            h1.lang = g.code;
            h1.dir = g.dir;
            sub.textContent = g.lang;
        }

        function showGreeting(index, { animate = true, pushState = true } = {}) {
            const g = greetings[index];

            if (animate) {
                h1.style.opacity = 0;
                setTimeout(() => {
                    applyGreeting(g);
                    h1.style.opacity = 1;
                }, FADE_MS);
            } else {
                applyGreeting(g);
            }

            buttons.forEach((btn, i) => {
                const active = i === index;
                btn.setAttribute('aria-pressed', String(active));
            });

            activeIndex = index;

            if (pushState) {
                const params = new URLSearchParams(location.search);
                params.set('lang', g.lang.toLowerCase());
                history.replaceState(null, '', '?' + params.toString());
            }
        }

        // Build language buttons
        greetings.forEach((g, i) => {
            const btn = document.createElement('button');
            btn.textContent = `${g.flag} ${g.lang}`;
            btn.setAttribute('lang', g.code);
            btn.setAttribute('aria-pressed', 'false');
            btn.addEventListener('click', () => {
                stopCycle();
                showGreeting(i);
            });
            container.appendChild(btn);
            buttons.push(btn);
        });

        // Auto-cycle
        function startCycle() {
            cycleTimer = setInterval(() => {
                showGreeting((activeIndex + 1) % greetings.length);
            }, CYCLE_MS);
            cycleBtn.textContent = '‚è∏ Auto-cycle';
            cycleBtn.classList.add('playing');
            cycleBtn.setAttribute('aria-label', 'Stop auto-cycling through languages');
        }

        function stopCycle() {
            clearInterval(cycleTimer);
            cycleTimer = null;
            cycleBtn.textContent = '‚ñ∂ Auto-cycle';
            cycleBtn.classList.remove('playing');
            cycleBtn.setAttribute('aria-label', 'Start auto-cycling through languages');
        }

        cycleBtn.addEventListener('click', () => {
            if (cycleTimer) stopCycle(); else startCycle();
        });

        // Keyboard navigation
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                stopCycle();
                showGreeting((activeIndex + 1) % greetings.length);
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                stopCycle();
                showGreeting((activeIndex - 1 + greetings.length) % greetings.length);
            }
        });

        // Restore from URL, fall back to first entry
        const params = new URLSearchParams(location.search);
        const langParam = params.get('lang');
        const initial = langParam
            ? greetings.findIndex(g => g.lang.toLowerCase() === langParam)
            : -1;
        showGreeting(initial >= 0 ? initial : 0, { animate: false, pushState: false });
    </script>
</body>
</html>
